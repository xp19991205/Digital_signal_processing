%内容一：调用filter解微分方程，由系统对u(n)的响应判断稳定性
A=[1 -0.9];
B=[0.05 0.05];
x1=[ones(1,8),zeros(1,50)];%这里产生R8(n)
x2=ones(1,128);%这里产生u(n)
y1n=filter(B,A,x1);
y2n=filter(B,A,x2);
n1=0:57;
figure(1)
stem(n1,y1n,'.');
title('系统对R8(n)的响应y1(n)');
xlabel('n');
ylabel('幅值')
n2=0:127;
figure(2);
stem(n2,y2n,'.');
title('系统对u(n)的响应y1(n)');
xlabel('n');
ylabel('幅值')
hn=impz(B,A,58);
figure(3)
stem(n1,hn,'.');
title('系统对单位脉冲的响应y1(n)');
xlabel('n');
ylabel('幅值')
%内容二，调用conv函数计算卷积
h1n=[ones(1,10),zeros(1,10)];
h2n=[1 2.5 2.5 1,zeros(1,10)];
y21n=conv(h1n,x1);
y22n=conv(h2n,x2);
figure(4);
n3=0:length(y21n)-1;
n4=0:length(y22n)-1;
stem(n3,y21n,'.');
title('系统h1对R8(n)的响应y21(n)');
xlabel('n');
ylabel('幅值')
figure(5)
stem(n4,y22n,'.');
title('系统h2对R8(n)的响应y22(n)');
xlabel('n');
ylabel('幅值')
%内容3：谐振器分析
un=ones(1,255);
n=0:254;
xsin=sin(0.014*n)+sin(0.4*n);
A=[1,-1.8237,0.9801];
B=[1/100.49,-1/100.49];
y31n=filter(B,A,un);
y32n=filter(B,A,xsin);
figure(6)
stem(n,y31n,'.');
title('谐振器系统对u(n)的响应y31(n)');
xlabel('n');
ylabel('幅值')
figure(7)
stem(n,y32n,'.');
title('谐振器系统对正弦信号的响应y32(n)');
xlabel('n');
ylabel('幅值')